{"version":3,"sources":["app.jsx","toMarkdown.js"],"names":["getChannelName","channelID","channelName","String","fromCharCode","mod","div","floor","getContentTitle","attributes","title","JSON","parse","e","console","log","replace","length","Post","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","state","body","publisher","timestamp","loading","retries","error","_this2","contentID","web3","toBigNumber","id","Publish","fromBlock","toBlock","get","post","Store","content","setState","args","document","accountID","getElementById","innerHTML","marked","React","createElement","style","maxWidth","margin","padding","color","display","float","href","substr","Date","toLocaleString","clear","fontStyle","backgroundColor","wordWrap","className","Component","Create","_this3","view","channel","preventHeaderUnbold","action","target","getAttribute","parentNode","active","getElementsByClassName","i","test","stopPropagation","preventDefault","preventFormatHotkey","ctrlKey","metaKey","keyCode","editPost","bind","previewPost","setChannel","submitPost","MediumEditor","buttonLabels","keyboardCommands","toolbar","buttons","placeholder","text","hideOnClick","addEventListener","removeEventListener","value","toMarkdown","_this4","errors","stringify","version","doc","getChannelByName","getContentByData","account","push","join","publish","estimateGas","indexer","address","from","gasEstimate","gas","toString","watcher","watch","stopWatching","window","location","hash","_this5","width","type","contentEditable","textAlign","textDecoration","borderBottom","paddingBottom","onClick","height","opacity","position","zIndex","top","left","border","cursor","NewestPosts","_this6","listItems","size","getPosts","nextProps","split","slice","_this7","getOverallSize","overallSize","toNumber","indices","Array","map","_","Sequence","overallIndex","sequence","ids","posts","reverse","getChannelSize","channelSize","channelIndex","now","getTime","listItem","age","key","humanizeDuration","inChannel","paddingLeft","Account","_this8","_this9","forEach","byAccount","App","_this10","levelOne","levelTwo","levelThree","levelFour","route","setFilter","_this11","eth","getAccounts","accounts","warn","_this12","filter","timeout","clearTimeout","setTimeout","path","_ref","_this13","showNav","minHeight","fontWeight","alt","src","borderRight","paddingTop","fontSize","borderRadius","boxShadow","borderLeft","_defineProperty","onChange","marginLeft","borderTop","bottom","textTransform","node","markdownEscape","repeat","str","times","childsToMarkdown","tree","mode","res","l","childNodes","nodeToMarkdown","nl","nodeType","nodeValue","tagName","toLowerCase"],"mappings":"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","file":"app.min.js","sourcesContent":["function getChannelName(channelID) {\n  var channelName = '';\n  while (channelID != 0) {\n    channelName = String.fromCharCode(channelID.mod(256)) + channelName;\n    channelID = channelID.div(256).floor();\n  }\n  return channelName;\n}\n\nfunction getContentTitle(attributes) {\n  var title = null;\n  try {\n    title = JSON.parse(attributes).title;\n  }\n  catch (e) {\n    console.log(`Invalid JSON: ${attributes}`);\n  }\n\n  // If the title is empty or just spaces, return empty\n  if (title.replace(/ /g, '').length == 0) {\n    title = null;\n  }\n  return title;\n}\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      body: '',\n      publisher: '0x0',\n      timestamp: '0',\n      loading: true,\n      retries: 10,\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    var contentID = web3.toBigNumber(this.props.id);\n    publisher.Publish({contentID: contentID}, {fromBlock: 0, toBlock: 'latest'}).get((error, post) => {\n      publisher.Store({contentID: contentID}, {fromBlock: 0, toBlock: 'latest'}).get((error, content) => {\n        if (!post || !content || post.length == 0 || content.length == 0) {\n          this.setState({\n            loading: false,\n            retries: 0\n          });\n        }\n        else {\n          this.setState({\n            title: getContentTitle(content[0].args.attributes),\n            body: JSON.parse(content[0].args.document).body,\n            publisher: post[0].args.accountID,\n            channelName: getChannelName(post[0].args.channelID),\n            timestamp: post[0].args.timestamp * 1000,\n            loading: false\n          });\n        }\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    document.getElementById('post-'+this.props.id).innerHTML = marked(this.state.body);\n  }\n\n  render() {\n    return (\n      <div>\n        <div style={{maxWidth: '600px', margin: '0 auto', padding: '1.5em 0'}}>\n          <div style={{padding: '0 1em', color: 'dimgray'}}>\n            <div style={{display: !this.state.loading ? 'block' : 'none'}}>\n              <div style={{float: 'left'}}>\n                <span>Published by </span>\n                <a href={`#/account/${this.state.publisher}`}>{`${this.state.publisher.substr(0,5)}...${this.state.publisher.substr(-3)}`}</a>\n                <span>{` in `}</span>\n                <a href={`#/channel/${this.state.channelName}`}>{`#${this.state.channelName}`}</a>\n                &nbsp;\n              </div>\n              <div style={{float: 'left'}}>\n                <span>{`on ${new Date(this.state.timestamp).toLocaleString()}`}</span>\n              </div>\n              <div style={{float: 'none', clear: 'both'}}></div>\n            </div>\n            <div style={{fontStyle: 'italic', display: this.state.loading ? 'block' : 'none'}}>Loading...</div>\n          </div>\n        </div>\n        <div style={{backgroundColor: '#FFF'}}>\n          <div style={{maxWidth: '600px', margin: '0 auto'}}>\n            <div style={{padding: '1.5em 1em', display: this.state.loading ? 'none' : 'block', wordWrap: 'break-word'}}>\n              <h1>{this.state.title}</h1>\n              <div id={'post-'+this.props.id} className='post'></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Create extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      view: 'edit',\n      channel: '',\n      error: ''\n    };\n\n    this.preventHeaderUnbold = (e) => {\n      var action = e.target.getAttribute('data-action') || e.target.parentNode.getAttribute('data-action');\n      if (action == 'bold') {\n        var active = document.getElementsByClassName('medium-editor-button-active');\n        for (var i = 0; i < active.length; i++) {\n          if (/h+/.test(active[i].getAttribute('data-action', ''))) {\n            e.stopPropagation();\n            e.preventDefault();\n            return;\n          }\n        }\n      }\n    };\n\n    this.preventFormatHotkey = (e) => {\n      if (e.ctrlKey || e.metaKey) {\n        switch(e.keyCode){\n          case 66: //ctrl+B or ctrl+b\n          case 98:\n          case 73: //ctrl+I or ctrl+i\n          case 105:\n          case 85: //ctrl+U or ctrl+u\n          case 117:\n            e.stopPropagation();\n            e.preventDefault();\n            return false;\n        }\n      }\n    };\n\n    this.editPost = this.editPost.bind(this);\n    this.previewPost = this.previewPost.bind(this);\n    this.setChannel = this.setChannel.bind(this);\n    this.submitPost = this.submitPost.bind(this);\n  }\n\n  componentDidMount() {\n    var editor = new MediumEditor('#new-post-body', {\n      buttonLabels: 'fontawesome',\n      keyboardCommands: false,\n      toolbar: {\n        buttons: ['bold', 'italic', 'h2', 'h3', 'image', 'anchor', 'pre', 'quote'],\n      },\n      placeholder: {\n        text: 'body',\n        hideOnClick: true\n      }\n    });\n    // Prevent the user from 'unbolding' text marked with h1, h2, hX...\n    document.addEventListener('click', this.preventHeaderUnbold, true);\n\n    // Prevent Bold/Italics/Underline via shortcuts\n    document.addEventListener('keydown', this.preventFormatHotkey);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.preventHeaderUnbold);\n    document.removeEventListener('keydown', this.preventFormatHotkey);\n  }\n\n  editPost() {\n    this.setState({\n      view: 'edit',\n      error: ''\n    });\n  }\n\n  previewPost() {\n    this.setState({\n      view: 'preview',\n      error: ''\n    });\n    document.getElementById('new-post-title-preview').innerHTML = document.getElementById('new-post-title').value;\n    document.getElementById('new-post-body-preview').innerHTML = marked(toMarkdown(document.getElementById('new-post-body')));\n  }\n\n  setChannel(e) {\n    this.setState({\n      channel: e.target.innerHTML\n    });\n  }\n\n  submitPost() {\n    this.setState({\n      view: 'submit'\n    });\n    var errors = [];\n    var title = document.getElementById('new-post-title').value;\n    var body = toMarkdown(document.getElementById('new-post-body'));\n\n    var attributes = JSON.stringify({\n      version: '1.0',\n      title: title\n    });\n    var doc = JSON.stringify({\n      version: '1.0',\n      body: body\n    });\n    publisher.getChannelByName(this.props.channel, (error, channelID) => {\n      publisher.getContentByData(this.props.account, channelID, attributes, doc, (error, contentID) => {\n        if (channelID == 0) {\n          errors.push('Channel must be between 3 and 30 characters and consist of only letters numbers and underscores');\n        }\n        this.setState({\n          error: errors.join('. ')\n        });\n        if (errors.length == 0) {\n          publisher.publish.estimateGas(this.props.channel, attributes, doc, indexer.address, {from: this.props.account, value: 0}, (error, gasEstimate) => {\n            console.log(gasEstimate);\n            gasEstimate += 100000;\n            publisher.publish(this.props.channel, attributes, doc, indexer.address, {from: this.props.account, value: 0, gas: gasEstimate}, (error) => {\n              if (error) {\n                this.setState({\n                  error: error.toString()\n                });\n              }\n              else {\n                var watcher = publisher.Publish({contentID: contentID}, {fromBlock: 'latest'});\n                watcher.watch((error, post) => {\n                  watcher.stopWatching();\n                  if (error) {\n                    this.setState({\n                      error: error.toString()\n                    });\n                  }\n                  else {\n                    window.location.hash = `#/channel/${this.props.channel}/post/0x${post.args.contentID.toString(16)}`;\n                  }\n                });\n              }\n            });\n          });\n        }\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div style={{width: '100%', margin: '0 auto'}}>\n        <div style={{width: '100%', backgroundColor: '#FFF'}}>\n          <div style={{maxWidth: '600px', margin: '0 auto'}}>\n            <div style={{padding: '1.5em 1em', wordWrap: 'break-word'}}>\n              <div style={{display: this.state.view == 'edit' ? 'block' : 'none'}}>\n                <textarea id='new-post-title' type='text' placeholder='title'></textarea>\n                <div id='new-post-body' contentEditable='true' className='post'></div>\n              </div>\n              <div style={{display: this.state.view != 'edit' ? 'block' : 'none'}}>\n                <h1 id='new-post-title-preview'></h1>\n                <div id='new-post-body-preview' className='post'></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{width: '100%'}}>\n          <div style={{maxWidth: '600px', margin: '0 auto', color: 'black'}}>\n            <div className='flex' style={{padding: '1.5em 1em'}}>\n              <div className='flex-grow' style={{textAlign: 'left'}}>\n                <a style={{\n                  color: 'inherit',\n                  textDecoration: 'none',\n                  display: this.state.view == 'edit' ? 'inline-block' : 'none',\n                  borderBottom: '2px solid black',\n                  paddingBottom: '.5em'\n                }} href={'#/channel/'+this.props.channel}>Cancel</a>\n                <a style={{\n                  color: 'inherit',\n                  textDecoration: 'none',\n                  display: this.state.view != 'edit' ? 'inline-block' : 'none',\n                  borderBottom: '2px solid black',\n                  paddingBottom: '.5em'\n                }} onClick={this.editPost}>Edit</a>\n              </div>\n              <div className='flex-grow' style={{textAlign: 'right'}}>\n                <a style={{\n                  color: 'inherit',\n                  textDecoration: 'none',\n                  display: this.state.view == 'edit' ? 'inline-block' : 'none',\n                  borderBottom: '2px solid black',\n                  paddingBottom: '.5em'\n                }} onClick={this.previewPost}>Preview</a>\n                <a style={{\n                  color: 'inherit',\n                  textDecoration: 'none',\n                  display: this.state.view != 'edit' ? 'inline-block' : 'none',\n                  borderBottom: '2px solid black',\n                  paddingBottom: '.5em'\n                }} onClick={this.submitPost}>Publish</a>\n              </div>\n              <div className='backdrop' style={{\n                width: '100%',\n                height: '100%',\n                opacity: 0.5,\n                backgroundColor: 'black',\n                position: 'fixed',\n                zIndex: 1,\n                display: this.state.view == 'submit' ? 'block' : 'none',\n                top: '0',\n                left: '0'\n              }}>{' '}</div>\n              <div style={{\n                display: this.state.view == 'submit' ? 'block' : 'none',\n                top: '15%',\n                left: '0',\n                width: '100%',\n                position: 'fixed',\n                backgroundColor: 'transparent',\n                zIndex: 2\n              }}>\n                <div style={{maxWidth: '600px', margin: '0 auto', backgroundColor: '#FCFCFC', border: '1px solid #DDD'}}>\n                  <div style={{padding: '1em', display: this.state.error.length > 0 ? 'block' : 'none'}}>\n                    <h1>Unable to publish</h1>\n                    <div style={{padding: '1em 0'}}>{this.state.error}</div>\n                    <span onClick={() => this.setState({view: 'edit', error: ''})} style={{\n                      borderBottom: '2px solid black',\n                      padding: '.5em 0',\n                      display: 'inline-block',\n                      cursor: 'pointer'\n                    }}>Close</span>\n                  </div>\n                  <div style={{padding: '1em', display: this.state.error.length == 0 ? 'block' : 'none'}}>\n                    <h1>Publishing...</h1>\n                    <div style={{padding: '1em 0'}}>{\n                      'Your post is being published. This page will redirect to your post once published. '+\n                      'If you are not redirected after several minutes, try closing this message and publishing again.'\n                    }</div>\n                    <span onClick={() => this.setState({view: 'publish', error: ''})} style={{\n                      borderBottom: '2px solid black',\n                      padding: '.5em 0',\n                      display: 'inline-block',\n                      cursor: 'pointer'\n                    }}>Close</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass NewestPosts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listItems: [],\n      size: 0\n    };\n    this.getPosts = this.getPosts.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPosts(this.props.channel);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.channel != window.location.hash.split('/').slice(-1)) {\n      this.setState({\n        loading: true,\n        listItems: [],\n        size: 0\n      });\n    }\n    else {\n      this.getPosts(nextProps.channel);\n    }\n  }\n\n  getPosts(channel) {\n    this.setState({\n      loading: true,\n      listItems: [],\n      size: 0\n    });\n    if (channel == '') {\n      publisher.getOverallSize((error, overallSize) => {\n        overallSize = overallSize.toNumber();\n        if (overallSize == 0) {\n          this.setState({\n            loading: false\n          });\n        }\n        else {\n          var indices = Array.from(Array(overallSize)).map((_, i) => i);\n          publisher.Sequence({overallIndex: indices}, {fromBlock: 0, toBlock: 'latest'}).get((error, sequence) => {\n            var ids = sequence.map((post) => post.args.contentID);\n            var listItems = [];\n            publisher.Publish({contentID: ids}, {fromBlock: 0, toBlock: 'latest'}).get((error, posts) => {\n              for (var i = 0; i < posts.length; i++) {\n                listItems.push({\n                  id: '0x' + ids[i].toString(16),\n                  title: getContentTitle(posts[i].args.attributes),\n                  publisher: posts[i].args.accountID,\n                  channelName: getChannelName(posts[i].args.channelID),\n                  timestamp: posts[i].args.timestamp.toNumber() * 1000\n                });\n              }\n              this.setState({\n                loading: false,\n                listItems: listItems.reverse(),\n                size: overallSize\n              });\n            });\n          });\n        }\n      });\n    }\n    else {\n      publisher.getChannelByName(channel, (error, channelID) => {\n        publisher.getChannelSize(channelID, (error, channelSize) => {\n          channelSize = channelSize.toNumber();\n          if (channelID == 0 || channelSize == 0) {\n            this.setState({\n              loading: false,\n              listItems: [],\n              size: 0\n            });\n          }\n          else {\n            var channelName = getChannelName(channelID);\n            var indices = Array.from(Array(channelSize)).map((_, i) => i);\n            publisher.Sequence({channelID: channelID, channelIndex: indices}, {fromBlock: 0, toBlock: 'latest'}).get((error, sequence) => {\n              var ids = sequence.map((post) => post.args.contentID);\n              var listItems = [];\n              publisher.Publish({contentID: ids}, {fromBlock: 0, toBlock: 'latest'}).get((error, posts) => {\n                for (var i = 0; i < posts.length; i++) {\n                  listItems.push({\n                    id: '0x' + ids[i].toString(16),\n                    title: getContentTitle(posts[i].args.attributes),\n                    publisher: posts[i].args.accountID,\n                    channelName: channelName,\n                    timestamp: posts[i].args.timestamp.toNumber() * 1000\n                  });\n                }\n                this.setState({\n                  loading: false,\n                  listItems: listItems.reverse(),\n                  size: channelSize\n                });\n              });\n            });\n          }\n        });\n      });\n    }\n  }\n\n  render() {\n    var now = new Date().getTime();\n    var listItems = this.state.listItems.map((listItem) => {\n      var age = now - listItem.timestamp;\n      if (age > 3600000) {\n        age -= (age % 3600000);\n      }\n      if (age > 60000) {\n        age -= age % 60000;\n      }\n      if (age > 1000) {\n        age -= age % 1000;\n      }\n      return (\n        <li key={'li-'+listItem.id}>\n          <a href={`#/channel/${listItem.channelName}/post/${listItem.id}`}>\n            <div>{listItem.title}</div>\n            <span>{`${humanizeDuration(age)} ago`}</span>\n            <span>{` by ${listItem.publisher.substr(0,5)}...${listItem.publisher.substr(-3)}`}</span>\n            <span>{` in #${listItem.channelName}`}</span>\n          </a>\n        </li>\n      );\n    });\n    var inChannel = this.props.channel.length != 0 ? ' in channel' : '';\n    return (\n      <div className='view-align'>\n        <div style={{paddingLeft: '1em', paddingBottom: '1em'}}>\n          <div style={{fontStyle: 'italic', display: this.state.loading ? 'block'  : 'none'}}>Loading...</div>\n          <div style={{display: !this.state.loading && this.state.size == 0 ? 'block'  : 'none'}}>No posts found</div>\n          <div style={{display: this.state.size != 0 ? 'block'  : 'none'}}>{`Newest posts${inChannel} (${this.state.size})`}</div>\n        </div>\n        <ol>{listItems}</ol>\n      </div>\n    );\n  }\n}\n\nclass Account extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listItems: [],\n      size: 0\n    };\n\n    this.getPosts = this.getPosts.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPosts(this.props.account);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.account != window.location.hash.split('/').slice(-1)) {\n      this.setState({\n        loading: true,\n        listItems: [],\n        size: 0\n      });\n    }\n    else {\n      this.getPosts(nextProps.account);\n    }\n  }\n\n  getPosts(account) {\n    this.setState({\n      loading: true,\n      listItems: [],\n      size: 0\n    });\n    var listItems = [];\n    publisher.Publish({accountID: account}, {fromBlock: 0, toBlock: 'latest'}).get((error, posts) => {\n      posts.forEach((post) => {\n        listItems.push({\n          id: '0x' + post.args.contentID.toString(16),\n          title: getContentTitle(post.args.attributes),\n          publisher: post.args.accountID,\n          channelName: getChannelName(post.args.channelID),\n          timestamp: post.args.timestamp.toNumber() * 1000\n        });\n      });\n      this.setState({\n        listItems: listItems.reverse(),\n        size: listItems.length,\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    var now = new Date().getTime();\n    var listItems = this.state.listItems.map((listItem) => {\n      var age = now - listItem.timestamp;\n      if (age > 3600000) {\n        age -= (age % 3600000);\n      }\n      if (age > 60000) {\n        age -= age % 60000;\n      }\n      if (age > 1000) {\n        age -= age % 1000;\n      }\n      return (\n        <li key={'li-'+listItem.id}>\n          <a href={`#/channel/${listItem.channelName}/post/${listItem.id}`}>\n            <div>{listItem.title}</div>\n            <span>{`${humanizeDuration(age)} ago`}</span>\n            <span>{` by ${listItem.publisher.substr(0,5)}...${listItem.publisher.substr(-3)}`}</span>\n            <span>{` in #${listItem.channelName}`}</span>\n          </a>\n        </li>\n      );\n    });\n    var byAccount = this.props.account.length != 0 ? ' by account' : '';\n    return (\n      <div className='view-align'>\n        <div style={{paddingLeft: '1em', paddingBottom: '1em'}}>\n          <div style={{fontStyle: 'italic', display: this.state.loading ? 'block'  : 'none'}}>Loading...</div>\n          <div style={{display: !this.state.loading && this.state.size == 0 ? 'block'  : 'none'}}>No posts found</div>\n          <div style={{display: this.state.size != 0 ? 'block'  : 'none'}}>{`Newest posts${byAccount} (${this.state.size})`}</div>\n        </div>\n        <ol>{listItems}</ol>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      levelOne: '',\n      levelTwo: '',\n      levelThree: '',\n      levelFour: '',\n      account: '',\n      contentID: null\n    };\n\n\n    this.route = this.route.bind(this);\n    this.setFilter = this.setFilter.bind(this);\n\n    window.addEventListener('hashchange', () => this.route(window.location.hash));\n  }\n\n  componentDidMount() {\n    this.route(window.location.hash);\n    web3.eth.getAccounts((error, accounts) => {\n      if (accounts.length > 0) {\n        var address = accounts[0];\n        this.setState({\n          account: address\n        });\n      }\n      else {\n        this.setState({\n          warn: true\n        });\n      }\n    });\n  }\n\n  setFilter(e) {\n    var filter = e.target.value;\n    if (this.state.timeout > 0) {\n      clearTimeout(this.state.timeout);\n    }\n    this.setState({\n      levelTwo: filter,\n      timeout: setTimeout(() => {\n        window.location.hash = `#/${this.state.levelOne}/${filter}`;\n      }, 500)\n    });\n  }\n\n  route(href) {\n    var path = href.split('/');\n    path[1] = path.length > 1 ? path[1] : 'channel';\n    path[2] = path.length > 2 ? path[2] : '';\n    path[3] = path.length > 3 ? path[3] : '';\n    path[4] = path.length > 4 ? path[4] : '';\n    this.setState({\n      levelOne: path[1],\n      levelTwo: path[2],\n      levelThree: path[3],\n      levelFour: path[4]\n    });\n  }\n\n  render() {\n\n    var view = '';\n    var showNav = true;\n    if (this.state.levelOne == 'channel') {\n      if (this.state.levelThree == 'post') {\n        view = <Post id={this.state.levelFour} channel={this.state.levelTwo} account={this.state.account} />;\n        showNav = false;\n      }\n      else {\n        view = <NewestPosts channel={this.state.levelTwo} account={this.state.account} />;\n      }\n    }\n    else if (this.state.levelOne == 'publish'){\n      view = <Create channel={this.state.levelTwo} account={this.state.account} />\n    }\n    else if (this.state.levelOne == 'account') {\n      view = <Account account={this.state.levelTwo} />;\n    }\n\n    var filter;\n    if (this.state.levelOne == 'account') {\n      filter = `#/channel/`;\n    }\n    else if (this.state.levelOne == 'publish') {\n      filter = `#/publish/${this.state.levelTwo}`;\n    }\n    else {\n      filter = `#/account/${this.state.account}`;\n    }\n    return (\n      <div style={{position: 'relative', minHeight: '100%'}}>\n        <div style={{\n          position: 'fixed',\n          width: '100%',\n          backgroundColor: '#fafafa',\n          borderBottom: '1px solid #DDD',\n          color: 'black',\n          height: '3em',\n          top: 0,\n          fontWeight: 'bold',\n          textAlign: 'center',\n          zIndex: 10\n        }}>\n          <div style={{maxWidth: '600px', margin: '0 auto'}}>\n            <a href='/' alt='¢'><img src='./app/logo.svg' style={{width: '1.5em', height: '1.5em', margin: '0 auto', padding: '.75em'}} /></a>\n          </div>\n        </div>\n        <div style={{height: '3em'}}>&nbsp;</div>\n        <div style={{maxWidth: '600px', margin: '0 auto', padding: '1em 0', display: showNav ? 'block' : 'none'}}>\n          <div className='flex'>\n            <a className='flex-shrink' href={filter} style={{\n              color: this.state.levelOne == 'publish' ? 'gray' : 'purple',\n              padding: '.5em 0',\n              paddingLeft: '1em',\n              border: '1px solid #DDD',\n              borderRight: '0',\n              textAlign: 'center',\n              fontWeight: 'bold',\n              backgroundColor: 'white'\n            }}>\n              <i style={{paddingTop: '.05em'}} className={this.state.levelOne == 'account' ? 'fa fa-user' : 'fa fa-hashtag'}></i>\n            </a>\n            <input type='text' placeholder={this.state.levelOne == 'account' ? '0x321...' : 'channel'} id='channel' className='flex-grow' style={{\n              backgroundColor: 'transparent',\n              fontSize: '1em',\n              padding: '.5em',\n              margin: 0,\n              border: '1px solid #DDD',\n              borderRadius: 0,\n              boxShadow: 'none',\n              borderLeft: 0,\n              backgroundColor: 'white',\n              outline: 0,\n              color: 'black'\n            }} value={this.state.levelTwo} onChange={this.setFilter}></input>\n            <a className='flex-shrink' style={{\n              color: 'white',\n              backgroundColor: 'purple',\n              display: (this.state.levelOne == 'publish' || this.state.account == '') ? 'none' : 'block',\n              padding: '.5em 0',\n              marginLeft: '1em',\n              borderTop: '1px solid purple',\n              borderBottom: '1px solid purple',\n              width: '3em',\n              textAlign: 'center'\n            }} href={`#/publish/${this.state.levelOne == 'channel' ? this.state.levelTwo : ''}`}>\n              <i className='fa fa-pencil'></i>\n            </a>\n          </div>\n        </div>\n        <div style={{display: this.state.warn ? 'block': 'none'}}>\n          <div className='backdrop' style={{\n            width: '100%',\n            height: '100%',\n            opacity: 0.5,\n            backgroundColor: 'black',\n            position: 'fixed',\n            zIndex: 1,\n            top: '0',\n            left: '0'\n          }}>{' '}</div>\n          <div style={{\n            top: '15%',\n            left: '0',\n            margin: '0 auto',\n            width: '100%',\n            zIndex: 2,\n            position: 'fixed',\n            backgroundColor: 'transparent'\n          }}>\n            <div style={{maxWidth: '600px', margin: '0 auto', backgroundColor: '#FCFCFC', border: '1px solid #DDD'}}>\n              <div style={{padding: '1em'}}>\n                <h1>Please link an account</h1>\n                <div style={{padding: '1em 0'}}>{\n                  'CredSign was unable to detect your Ethereum account. '+\n                  'If you do not have an account, please install Mist or '+\n                  'MetaMask and create one. If you do, please ensure you '+\n                  'are configured to use the test network. You will need '+\n                  'an account to publish content.'\n                }</div>\n                <span onClick={() => this.setState({warn: false})} style={{\n                  borderBottom: '2px solid black',\n                  padding: '.5em 0',\n                  display: 'inline-block',\n                  cursor: 'pointer'\n                }}>Close</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>{view}</div>\n        <div style={{height: '3em'}}>&nbsp;</div>\n        <div style={{\n          width: '100%',\n          position: 'absolute',\n          backgroundColor: '#fafafa',\n          borderTop: '1px solid #DDD',\n          color: 'dimgray',\n          bottom: 0,\n          height: '1em',\n          padding: '1em 0',\n          zIndex: 10\n        }}>\n          <div style={{\n            fontSize: '69%',\n            textTransform: 'uppercase',\n            textAlign: 'center'\n          }}>\n            <span className='collapsable'>{'Message us on '}</span>\n            <a href={'https://facebook.com/CredSign'} style={{\n              display: 'inline-block',\n              color: 'inherit'\n            }}>Facebook</a>\n            <span>{' · '}</span>\n            <span className='collapsable'>{'View source on '}</span>\n            <a href={'https://github.com/CredSign/credsign.github.io'} style={{\n              display: 'inline-block',\n              color: 'inherit'\n            }}>Github</a>\n            <span>{' · '}</span>\n            <span className='collapsable'>{'Usage governed by '}</span>\n            <a\n              href='https://github.com/CredSign/credsign.github.io/blob/master/LICENSE'\n              style={{\n                color: 'inherit',\n                display: 'inline-block'\n              }}>terms</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nwindow.App = App;\n","// Adapted from https://gist.github.com/Youwotma/1762527\n// No license provided in original, so assume license of this repo.\n\nwindow.toMarkdown = (node) => {\n\n    var markdownEscape = (text) => {\n        return text ? text.replace(/\\s+/g, \" \").replace(/[\\\\\\-*_>#]/g, \"\\\\$&\") : '';\n    }\n\n    var repeat = (str, times) => {\n        return (new Array(times+1)).join(str);\n    }\n\n    var childsToMarkdown = (tree, mode) => {\n        var res = \"\";\n        for (var i = 0, l = tree.childNodes.length; i < l; i++) {\n            res += nodeToMarkdown(tree.childNodes[i], mode);\n        }\n        return res;\n    }\n\n    var nodeToMarkdown = (tree, mode) => {\n        var nl = \"\\n\\n\";\n        if (tree.nodeType == 3) { // Text node\n            return markdownEscape(tree.nodeValue);\n        }\n        else if (tree.nodeType == 1) {\n            if (mode == \"block\") {\n                switch (tree.tagName.toLowerCase()) {\n                    case \"br\":\n                        return nl;\n                    case \"hr\":\n                        return nl + \"---\" + nl;\n                    // Block container elements\n                    case \"p\":\n                    case \"div\":\n                    case \"section\":\n                    case \"address\":\n                    case \"center\":\n                        return nl + childsToMarkdown(tree, \"block\") + nl;\n                    case \"ul\":\n                        return nl + childsToMarkdown(tree, \"u\") + nl;\n                    case \"ol\":\n                        return nl + childsToMarkdown(tree, \"o\") + nl;\n                    case \"pre\":\n                        return nl + \"    \" + childsToMarkdown(tree, \"inline\") + nl;\n                    case \"code\":\n                        if (tree.childNodes.length == 1) {\n                            break; // use the inline format\n                        }\n                        return nl + \"    \" + childsToMarkdown(tree, \"inline\") + nl;\n                    case \"h1\":\n                    case \"h2\":\n                    case \"h3\":\n                    case \"h4\":\n                    case \"h5\":\n                    case \"h6\":\n                        return nl + repeat(\"#\", +tree.tagName[1]) + \"  \" + childsToMarkdown(tree, \"inline\") + nl;\n                    case \"blockquote\":\n                        return nl + \"> \" + childsToMarkdown(tree, \"inline\") + nl;\n                }\n            }\n            if (/^[ou]+$/.test(mode)) {\n                if (tree.tagName == \"LI\") {\n                    return \"\\n\" + repeat(\"  \", mode.length - 1) + (mode[mode.length-1]==\"o\"?\"1. \":\"- \") + childsToMarkdown(tree, mode+\"l\");\n                }\n                else{\n                    console.log(\"[toMarkdown] - invalid element at this point \" + mode.tagName);\n                    return childsToMarkdown(tree, \"inline\");\n                }\n            }\n            else if (/^[ou]+l$/.test(mode)) {\n                if (tree.tagName == \"UL\") {\n                    return childsToMarkdown(tree,mode.substr(0,mode.length-1)+\"u\");\n                }\n                else if (tree.tagName == \"OL\") {\n                    return childsToMarkdown(tree,mode.substr(0,mode.length-1)+\"o\");\n                }\n            }\n\n            // Inline tags\n            switch (tree.tagName.toLowerCase()) {\n                case \"strong\":\n                case \"b\":\n                    return \"**\" + childsToMarkdown(tree,\"inline\") + \"**\";\n                case \"em\":\n                case \"i\":\n                    return \"_\" + childsToMarkdown(tree,\"inline\") + \"_\";\n                case \"code\": // Inline version of code\n                    return \"`\" + childsToMarkdown(tree,\"inline\") + \"`\";\n                case \"a\":\n                    return \"[\" + childsToMarkdown(tree,\"inline\") + \"](\" + tree.getAttribute(\"href\") + \")\";\n                case \"img\":\n                    return nl + \"![: \" + markdownEscape(tree.getAttribute(\"alt\")) + \"](\" + tree.getAttribute(\"src\") + \")\" + nl;\n                case \"script\":\n                case \"style\":\n                case \"meta\":\n                    return \"\";\n                default:\n                    console.log(\"[toMarkdown] - undefined element \" + tree.tagName);\n                    return childsToMarkdown(tree,mode);\n            }\n        }\n    }\n\n    return nodeToMarkdown(node, \"block\").replace(/[\\n]{2,}/g,\"\\n\\n\").replace(/^[\\n]+/,\"\").replace(/[\\n]+$/,\"\");\n}\n"]}