"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function getChannelName(e){for(var t="";0!=e;)t=String.fromCharCode(e.mod(256))+t,e=e.div(256).floor();return t}function getContentTitle(e){var t=null;try{t=JSON.parse(e).title}catch(t){console.log("Invalid JSON: "+e)}return 0==t.replace(/ /g,"").length&&(t=null),t}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Post=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"",body:"",publisher:"0x0",timestamp:"0",loading:!0,retries:10,error:""},n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=web3.toBigNumber(this.props.id);publisher.Publish({contentID:t},{fromBlock:0,toBlock:"latest"}).get(function(n,a){publisher.Store({contentID:t},{fromBlock:0,toBlock:"latest"}).get(function(t,n){a&&n&&0!=a.length&&0!=n.length?e.setState({title:getContentTitle(n[0].args.attributes),body:JSON.parse(n[0].args.document).body,publisher:a[0].args.accountID,channelName:getChannelName(a[0].args.channelID),timestamp:1e3*a[0].args.timestamp,loading:!1}):e.setState({loading:!1,retries:0})})})}},{key:"componentDidUpdate",value:function(){document.getElementById("post-"+this.props.id).innerHTML=marked(this.state.body)}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"1.5em 0"}},React.createElement("div",{style:{padding:"0 1em",color:"dimgray"}},React.createElement("div",{style:{display:this.state.loading?"none":"block"}},React.createElement("div",{style:{float:"left"}},React.createElement("span",null,"Published by "),React.createElement("a",{href:"#/account/"+this.state.publisher},this.state.publisher.substr(0,5)+"..."+this.state.publisher.substr(-3)),React.createElement("span",null," in "),React.createElement("a",{href:"#/channel/"+this.state.channelName},"#"+this.state.channelName),"Â "),React.createElement("div",{style:{float:"left"}},React.createElement("span",null,"on "+new Date(this.state.timestamp).toLocaleString())),React.createElement("div",{style:{float:"none",clear:"both"}})),React.createElement("div",{style:{fontStyle:"italic",display:this.state.loading?"block":"none"}},"Loading..."))),React.createElement("div",{style:{backgroundColor:"#FFF"}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto"}},React.createElement("div",{style:{padding:"1.5em 1em",display:this.state.loading?"none":"block",wordWrap:"break-word"}},React.createElement("h1",null,this.state.title),React.createElement("div",{id:"post-"+this.props.id,className:"post"})))))}}]),t}(React.Component),Create=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={view:"edit",channel:"",error:""},n.preventHeaderUnbold=function(e){var t=e.target.getAttribute("data-action")||e.target.parentNode.getAttribute("data-action");if("bold"==t)for(var n=document.getElementsByClassName("medium-editor-button-active"),a=0;a<n.length;a++)if(/h+/.test(n[a].getAttribute("data-action","")))return e.stopPropagation(),void e.preventDefault()},n.preventFormatHotkey=function(e){if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 66:case 98:case 73:case 105:case 85:case 117:return e.stopPropagation(),e.preventDefault(),!1}},n.editPost=n.editPost.bind(n),n.previewPost=n.previewPost.bind(n),n.setChannel=n.setChannel.bind(n),n.submitPost=n.submitPost.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){new MediumEditor("#new-post-body",{buttonLabels:"fontawesome",keyboardCommands:!1,toolbar:{buttons:["bold","italic","h2","h3","image","anchor","pre","quote"]},placeholder:{text:"body",hideOnClick:!0}});document.addEventListener("click",this.preventHeaderUnbold,!0),document.addEventListener("keydown",this.preventFormatHotkey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.preventHeaderUnbold),document.removeEventListener("keydown",this.preventFormatHotkey)}},{key:"editPost",value:function(){this.setState({view:"edit",error:""})}},{key:"previewPost",value:function(){this.setState({view:"preview",error:""}),document.getElementById("new-post-title-preview").innerHTML=document.getElementById("new-post-title").value,document.getElementById("new-post-body-preview").innerHTML=marked(toMarkdown(document.getElementById("new-post-body")))}},{key:"setChannel",value:function(e){this.setState({channel:e.target.innerHTML})}},{key:"submitPost",value:function(){var e=this;this.setState({view:"submit"});var t=[],n=document.getElementById("new-post-title").value,a=toMarkdown(document.getElementById("new-post-body")),i=JSON.stringify({version:"1.0",title:n}),o=JSON.stringify({version:"1.0",body:a});publisher.getChannelByName(this.props.channel,function(n,a){publisher.getContentByData(e.props.account,a,i,o,function(n,l){0==a&&t.push("Channel must be between 3 and 30 characters and consist of only letters numbers and underscores"),e.setState({error:t.join(". ")}),0==t.length&&publisher.publish.estimateGas(e.props.channel,i,o,indexer.address,{from:e.props.account,value:0},function(t,n){console.log(n),n+=1e5,publisher.publish(e.props.channel,i,o,indexer.address,{from:e.props.account,value:0,gas:n},function(t){if(t)e.setState({error:t.toString()});else{var n=publisher.Publish({contentID:l},{fromBlock:"latest"});n.watch(function(t,a){n.stopWatching(),t?e.setState({error:t.toString()}):window.location.hash="#/channel/"+e.props.channel+"/post/0x"+a.args.contentID.toString(16)})}})})})})}},{key:"render",value:function(){var e=this;return React.createElement("div",{style:{width:"100%",margin:"0 auto"}},React.createElement("div",{style:{width:"100%",backgroundColor:"#FFF"}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto"}},React.createElement("div",{style:{padding:"1.5em 1em",wordWrap:"break-word"}},React.createElement("div",{style:{display:"edit"==this.state.view?"block":"none"}},React.createElement("textarea",{id:"new-post-title",type:"text",placeholder:"title"}),React.createElement("div",{id:"new-post-body",contentEditable:"true",className:"post"})),React.createElement("div",{style:{display:"edit"!=this.state.view?"block":"none"}},React.createElement("h1",{id:"new-post-title-preview"}),React.createElement("div",{id:"new-post-body-preview",className:"post"}))))),React.createElement("div",{style:{width:"100%"}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",color:"black"}},React.createElement("div",{className:"flex",style:{padding:"1.5em 1em"}},React.createElement("div",{className:"flex-grow",style:{textAlign:"left"}},React.createElement("a",{style:{color:"inherit",textDecoration:"none",display:"edit"==this.state.view?"inline-block":"none",borderBottom:"2px solid black",paddingBottom:".5em"},href:"#/channel/"+this.props.channel},"Cancel"),React.createElement("a",{style:{color:"inherit",textDecoration:"none",display:"edit"!=this.state.view?"inline-block":"none",borderBottom:"2px solid black",paddingBottom:".5em"},onClick:this.editPost},"Edit")),React.createElement("div",{className:"flex-grow",style:{textAlign:"right"}},React.createElement("a",{style:{color:"inherit",textDecoration:"none",display:"edit"==this.state.view?"inline-block":"none",borderBottom:"2px solid black",paddingBottom:".5em"},onClick:this.previewPost},"Preview"),React.createElement("a",{style:{color:"inherit",textDecoration:"none",display:"edit"!=this.state.view?"inline-block":"none",borderBottom:"2px solid black",paddingBottom:".5em"},onClick:this.submitPost},"Publish")),React.createElement("div",{className:"backdrop",style:{width:"100%",height:"100%",opacity:.5,backgroundColor:"black",position:"fixed",zIndex:1,display:"submit"==this.state.view?"block":"none",top:"0",left:"0"}}," "),React.createElement("div",{style:{display:"submit"==this.state.view?"block":"none",top:"15%",left:"0",width:"100%",position:"fixed",backgroundColor:"transparent",zIndex:2}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",backgroundColor:"#FCFCFC",border:"1px solid #DDD"}},React.createElement("div",{style:{padding:"1em",display:this.state.error.length>0?"block":"none"}},React.createElement("h1",null,"Unable to publish"),React.createElement("div",{style:{padding:"1em 0"}},this.state.error),React.createElement("span",{onClick:function(){return e.setState({view:"edit",error:""})},style:{borderBottom:"2px solid black",padding:".5em 0",display:"inline-block",cursor:"pointer"}},"Close")),React.createElement("div",{style:{padding:"1em",display:0==this.state.error.length?"block":"none"}},React.createElement("h1",null,"Publishing..."),React.createElement("div",{style:{padding:"1em 0"}},"Your post is being published. This page will redirect to your post once published. If you are not redirected after several minutes, try closing this message and publishing again."),React.createElement("span",{onClick:function(){return e.setState({view:"publish",error:""})},style:{borderBottom:"2px solid black",padding:".5em 0",display:"inline-block",cursor:"pointer"}},"Close"))))))))}}]),t}(React.Component),NewestPosts=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={listItems:[],size:0},n.getPosts=n.getPosts.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.getPosts(this.props.channel)}},{key:"componentWillReceiveProps",value:function(e){e.channel!=window.location.hash.split("/").slice(-1)?this.setState({loading:!0,listItems:[],size:0}):this.getPosts(e.channel)}},{key:"getPosts",value:function(e){var t=this;this.setState({loading:!0,listItems:[],size:0}),""==e?publisher.getOverallSize(function(e,n){if(n=n.toNumber(),0==n)t.setState({loading:!1});else{var a=Array.from(Array(n)).map(function(e,t){return t});publisher.Sequence({overallIndex:a},{fromBlock:0,toBlock:"latest"}).get(function(e,a){var i=a.map(function(e){return e.args.contentID}),o=[];publisher.Publish({contentID:i},{fromBlock:0,toBlock:"latest"}).get(function(e,a){for(var l=0;l<a.length;l++)o.push({id:"0x"+i[l].toString(16),title:getContentTitle(a[l].args.attributes),publisher:a[l].args.accountID,channelName:getChannelName(a[l].args.channelID),timestamp:1e3*a[l].args.timestamp.toNumber()});t.setState({loading:!1,listItems:o.reverse(),size:n})})})}}):publisher.getChannelByName(e,function(e,n){publisher.getChannelSize(n,function(e,a){if(a=a.toNumber(),0==n||0==a)t.setState({loading:!1,listItems:[],size:0});else{var i=getChannelName(n),o=Array.from(Array(a)).map(function(e,t){return t});publisher.Sequence({channelID:n,channelIndex:o},{fromBlock:0,toBlock:"latest"}).get(function(e,n){var o=n.map(function(e){return e.args.contentID}),l=[];publisher.Publish({contentID:o},{fromBlock:0,toBlock:"latest"}).get(function(e,n){for(var s=0;s<n.length;s++)l.push({id:"0x"+o[s].toString(16),title:getContentTitle(n[s].args.attributes),publisher:n[s].args.accountID,channelName:i,timestamp:1e3*n[s].args.timestamp.toNumber()});t.setState({loading:!1,listItems:l.reverse(),size:a})})})}})})}},{key:"render",value:function(){var e=(new Date).getTime(),t=this.state.listItems.map(function(t){var n=e-t.timestamp;return n>36e5&&(n-=n%36e5),n>6e4&&(n-=n%6e4),n>1e3&&(n-=n%1e3),React.createElement("li",{key:"li-"+t.id},React.createElement("a",{href:"#/channel/"+t.channelName+"/post/"+t.id},React.createElement("div",null,t.title),React.createElement("span",null,humanizeDuration(n)+" ago"),React.createElement("span",null," by "+t.publisher.substr(0,5)+"..."+t.publisher.substr(-3)),React.createElement("span",null," in #"+t.channelName)))}),n=0!=this.props.channel.length?" in channel":"";return React.createElement("div",{className:"view-align"},React.createElement("div",{style:{paddingLeft:"1em",paddingBottom:"1em"}},React.createElement("div",{style:{fontStyle:"italic",display:this.state.loading?"block":"none"}},"Loading..."),React.createElement("div",{style:{display:this.state.loading||0!=this.state.size?"none":"block"}},"No posts found"),React.createElement("div",{style:{display:0!=this.state.size?"block":"none"}},"Newest posts"+n+" ("+this.state.size+")")),React.createElement("ol",null,t))}}]),t}(React.Component),Account=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={listItems:[],size:0},n.getPosts=n.getPosts.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.getPosts(this.props.account)}},{key:"componentWillReceiveProps",value:function(e){e.account!=window.location.hash.split("/").slice(-1)?this.setState({loading:!0,listItems:[],size:0}):this.getPosts(e.account)}},{key:"getPosts",value:function(e){var t=this;this.setState({loading:!0,listItems:[],size:0});var n=[];publisher.Publish({accountID:e},{fromBlock:0,toBlock:"latest"}).get(function(e,a){a.forEach(function(e){n.push({id:"0x"+e.args.contentID.toString(16),title:getContentTitle(e.args.attributes),publisher:e.args.accountID,channelName:getChannelName(e.args.channelID),timestamp:1e3*e.args.timestamp.toNumber()})}),t.setState({listItems:n.reverse(),size:n.length,loading:!1})})}},{key:"render",value:function(){var e=(new Date).getTime(),t=this.state.listItems.map(function(t){var n=e-t.timestamp;return n>36e5&&(n-=n%36e5),n>6e4&&(n-=n%6e4),n>1e3&&(n-=n%1e3),React.createElement("li",{key:"li-"+t.id},React.createElement("a",{href:"#/channel/"+t.channelName+"/post/"+t.id},React.createElement("div",null,t.title),React.createElement("span",null,humanizeDuration(n)+" ago"),React.createElement("span",null," by "+t.publisher.substr(0,5)+"..."+t.publisher.substr(-3)),React.createElement("span",null," in #"+t.channelName)))}),n=0!=this.props.account.length?" by account":"";return React.createElement("div",{className:"view-align"},React.createElement("div",{style:{paddingLeft:"1em",paddingBottom:"1em"}},React.createElement("div",{style:{fontStyle:"italic",display:this.state.loading?"block":"none"}},"Loading..."),React.createElement("div",{style:{display:this.state.loading||0!=this.state.size?"none":"block"}},"No posts found"),React.createElement("div",{style:{display:0!=this.state.size?"block":"none"}},"Newest posts"+n+" ("+this.state.size+")")),React.createElement("ol",null,t))}}]),t}(React.Component),App=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={levelOne:"",levelTwo:"",levelThree:"",levelFour:"",account:"",contentID:null},n.route=n.route.bind(n),n.setFilter=n.setFilter.bind(n),window.addEventListener("hashchange",function(){return n.route(window.location.hash)}),n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.route(window.location.hash),web3.eth.getAccounts(function(t,n){if(n.length>0){var a=n[0];e.setState({account:a})}else e.setState({warn:!0})})}},{key:"setFilter",value:function(e){var t=this,n=e.target.value;this.state.timeout>0&&clearTimeout(this.state.timeout),this.setState({levelTwo:n,timeout:setTimeout(function(){window.location.hash="#/"+t.state.levelOne+"/"+n},500)})}},{key:"route",value:function(e){var t=e.split("/");t[1]=t.length>1?t[1]:"channel",t[2]=t.length>2?t[2]:"",t[3]=t.length>3?t[3]:"",t[4]=t.length>4?t[4]:"",this.setState({levelOne:t[1],levelTwo:t[2],levelThree:t[3],levelFour:t[4]})}},{key:"render",value:function(){var e,t=this,n="",a=!0;"channel"==this.state.levelOne?"post"==this.state.levelThree?(n=React.createElement(Post,{id:this.state.levelFour,channel:this.state.levelTwo,account:this.state.account}),a=!1):n=React.createElement(NewestPosts,{channel:this.state.levelTwo,account:this.state.account}):"publish"==this.state.levelOne?n=React.createElement(Create,{channel:this.state.levelTwo,account:this.state.account}):"account"==this.state.levelOne&&(n=React.createElement(Account,{account:this.state.levelTwo}));var i;return i="account"==this.state.levelOne?"#/channel/":"publish"==this.state.levelOne?"#/publish/"+this.state.levelTwo:"#/account/"+this.state.account,React.createElement("div",{style:{position:"relative",minHeight:"100%"}},React.createElement("div",{style:{position:"fixed",width:"100%",backgroundColor:"#fafafa",borderBottom:"1px solid #DDD",color:"black",height:"3em",top:0,fontWeight:"bold",textAlign:"center",zIndex:10}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto"}},React.createElement("a",{href:"/",alt:"Â¢"},React.createElement("img",{src:"./app/logo.svg",style:{width:"1.5em",height:"1.5em",margin:"0 auto",padding:".75em"}})))),React.createElement("div",{style:{height:"3em"}},"Â "),React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"1em 0",display:a?"block":"none"}},React.createElement("div",{className:"flex"},React.createElement("a",{className:"flex-shrink",href:i,style:{color:"publish"==this.state.levelOne?"gray":"purple",padding:".5em 0",paddingLeft:"1em",border:"1px solid #DDD",borderRight:"0",textAlign:"center",fontWeight:"bold",backgroundColor:"white"}},React.createElement("i",{style:{paddingTop:".05em"},className:"account"==this.state.levelOne?"fa fa-user":"fa fa-hashtag"})),React.createElement("input",{type:"text",placeholder:"account"==this.state.levelOne?"0x321...":"channel",id:"channel",className:"flex-grow",style:(e={backgroundColor:"transparent",fontSize:"1em",padding:".5em",margin:0,border:"1px solid #DDD",borderRadius:0,boxShadow:"none",borderLeft:0},_defineProperty(e,"backgroundColor","white"),_defineProperty(e,"outline",0),_defineProperty(e,"color","black"),e),value:this.state.levelTwo,onChange:this.setFilter}),React.createElement("a",{className:"flex-shrink",style:{color:"white",backgroundColor:"purple",display:"publish"==this.state.levelOne||""==this.state.account?"none":"block",padding:".5em 0",marginLeft:"1em",borderTop:"1px solid purple",borderBottom:"1px solid purple",width:"3em",textAlign:"center"},href:"#/publish/"+("channel"==this.state.levelOne?this.state.levelTwo:"")},React.createElement("i",{className:"fa fa-pencil"})))),React.createElement("div",{style:{display:this.state.warn?"block":"none"}},React.createElement("div",{className:"backdrop",style:{width:"100%",height:"100%",opacity:.5,backgroundColor:"black",position:"fixed",zIndex:1,top:"0",left:"0"}}," "),React.createElement("div",{style:{top:"15%",left:"0",margin:"0 auto",width:"100%",zIndex:2,position:"fixed",backgroundColor:"transparent"}},React.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",backgroundColor:"#FCFCFC",border:"1px solid #DDD"}},React.createElement("div",{style:{padding:"1em"}},React.createElement("h1",null,"Please link an account"),React.createElement("div",{style:{padding:"1em 0"}},"CredSign was unable to detect your Ethereum account. If you do not have an account, please install Mist or MetaMask and create one. If you do, please ensure you are configured to use the test network. You will need an account to publish content."),React.createElement("span",{onClick:function(){return t.setState({warn:!1})},style:{borderBottom:"2px solid black",padding:".5em 0",display:"inline-block",cursor:"pointer"}},"Close"))))),React.createElement("div",null,n),React.createElement("div",{style:{height:"3em"}},"Â "),React.createElement("div",{style:{width:"100%",position:"absolute",backgroundColor:"#fafafa",borderTop:"1px solid #DDD",color:"dimgray",bottom:0,height:"1em",padding:"1em 0",zIndex:10}},React.createElement("div",{style:{fontSize:"69%",textTransform:"uppercase",textAlign:"center"}},React.createElement("span",{className:"collapsable"},"Message us on "),React.createElement("a",{href:"https://facebook.com/CredSign",style:{display:"inline-block",color:"inherit"}},"Facebook"),React.createElement("span",null," Â· "),React.createElement("span",{className:"collapsable"},"View source on "),React.createElement("a",{href:"https://github.com/CredSign/credsign.github.io",style:{display:"inline-block",color:"inherit"}},"Github"),React.createElement("span",null," Â· "),React.createElement("span",{className:"collapsable"},"Usage governed by "),React.createElement("a",{href:"https://github.com/CredSign/credsign.github.io/blob/master/LICENSE",style:{color:"inherit",display:"inline-block"}},"terms"))))}}]),t}(React.Component);window.App=App,window.toMarkdown=function(e){var t=function(e){return e?e.replace(/\s+/g," ").replace(/[\\\-*_>#]/g,"\\$&"):""},n=function(e,t){return new Array(t+1).join(e)},a=function(e,t){for(var n="",a=0,o=e.childNodes.length;a<o;a++)n+=i(e.childNodes[a],t);return n},i=function(e,i){var o="\n\n";if(3==e.nodeType)return t(e.nodeValue);if(1==e.nodeType){if("block"==i)switch(e.tagName.toLowerCase()){case"br":return o;case"hr":return o+"---"+o;case"p":case"div":case"section":case"address":case"center":return o+a(e,"block")+o;case"ul":return o+a(e,"u")+o;case"ol":return o+a(e,"o")+o;case"pre":return o+"    "+a(e,"inline")+o;case"code":if(1==e.childNodes.length)break;return o+"    "+a(e,"inline")+o;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return o+n("#",+e.tagName[1])+"  "+a(e,"inline")+o;case"blockquote":return o+"> "+a(e,"inline")+o}if(/^[ou]+$/.test(i))return"LI"==e.tagName?"\n"+n("  ",i.length-1)+("o"==i[i.length-1]?"1. ":"- ")+a(e,i+"l"):(console.log("[toMarkdown] - invalid element at this point "+i.tagName),a(e,"inline"));if(/^[ou]+l$/.test(i)){if("UL"==e.tagName)return a(e,i.substr(0,i.length-1)+"u");if("OL"==e.tagName)return a(e,i.substr(0,i.length-1)+"o")}switch(e.tagName.toLowerCase()){case"strong":case"b":return"**"+a(e,"inline")+"**";case"em":case"i":return"_"+a(e,"inline")+"_";case"code":return"`"+a(e,"inline")+"`";case"a":return"["+a(e,"inline")+"]("+e.getAttribute("href")+")";case"img":return o+"![: "+t(e.getAttribute("alt"))+"]("+e.getAttribute("src")+")"+o;case"script":case"style":case"meta":return"";default:return console.log("[toMarkdown] - undefined element "+e.tagName),a(e,i)}}};return i(e,"block").replace(/[\n]{2,}/g,"\n\n").replace(/^[\n]+/,"").replace(/[\n]+$/,"")};
//# sourceMappingURL=app.min.js.map
